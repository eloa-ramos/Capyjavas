/* =========================
   Dashboard Principal (Estilo Moderno Azul)
   ========================= */

/* Root geral da tela */
.root {
    -primary-color: #459eb5;
    -fx-font-family: "Segoe UI", "Arial", sans-serif;
    -fx-background-color: #f4f4f4; /* Fundo mais claro e suave */
    -fx-font-size: 14px;
}

/* =========================
   HBox do topo (logo + botão) - Header/Navbar
   ========================= */
.top > .hbox {
    -fx-alignment: center-left;
    -fx-padding: 15 30 15 30;
    -fx-spacing: 25;
    -fx-background-color: #fefefe;
    /* Sombra sutil, estilo "card" flutuante */
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.05), 10, 0, 0, 4);
    -fx-border-width: 0;
}

/* =========================
   ESTILOS GERAIS DE BOTÃO DE AÇÃO (Cadastro PDI)
   ========================= */
/* O seletor '.button' aplica-se apenas ao botão de texto principal */
.button {
    -fx-background-color: -primary-color; /* Cor azul primária */
    -fx-text-fill: #fefefe;
    -fx-font-weight: bold;
    -fx-font-size: 14px;
    -fx-background-radius: 8;
    -fx-padding: 10 20;
    -fx-cursor: hand;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 8, 0.1, 0, 2);
    -fx-border-width: 0;
    /* Transição suave para hover e active */
    -fx-transition: -fx-background-color 0.2s ease, -fx-effect 0.2s ease, -fx-scale 0.1s linear;
}

.button:hover {
    -fx-background-color: #3b889b;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0.2, 0, 3);
    -fx-cursor: hand;
}

.button:pressed { /* Estilo Active */
    -fx-scale-x: 0.98;
    -fx-scale-y: 0.98;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 4, 0.1, 0, 1);
}

/* ==================================
   LAYOUT PRINCIPAL
   ================================== */
/* ATENÇÃO: Mudança no fundo do contêiner principal para harmonizar */
.main-content-container {
    -fx-background-color: #f8f8f8; /* Cinza sutil (Harmoniza entre #f4f4f4 e #fefefe) */
}

/* ==================================
   BARRA LATERAL DE FILTROS (SIDEBAR)
   ================================= */
.sidebar-filtro {
    -fx-background-color: #fefefe; /* Fundo branco para sidebar */
    -fx-padding: 20 15 20 15;
    -fx-spacing: 25;
    /* Linha sutil de separação */
    -fx-border-color: #eeeeee;
    -fx-border-width: 0 1 0 0;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.03), 10, 0, 0, 0);
}

.filtro-title {
    -fx-font-size: 15px;
    -fx-font-weight: bold;
    -fx-text-fill: #333333;
    -fx-padding: 5 0 0 0;
}

/* Estilo do VBox que contém cada grupo de filtros (Status, Área) */
.filtro-group {
    -fx-padding: 10 0 5 0;
    -fx-border-color: #f0f0f0;
    -fx-border-width: 0 0 1 0;
}

/* Estilo para as Checkboxes (melhorando o visual) */
.check-box {
    -fx-text-fill: #555555;
    -fx-font-size: 13px;
    -fx-cursor: hand;
    -fx-padding: 2 0;
}

.check-box:selected .box {
    -fx-background-color: -primary-color;
    -fx-border-color: -primary-color;
}

.check-box .box {
    -fx-border-color: #bbbbbb;
    -fx-border-radius: 3;
    -fx-background-radius: 3;
}

/* Botão de Ação na Sidebar (Recarregar) */
.button-sidebar-action {
    /* Herda o estilo .button base, mas com ajuste de sombra e raio */
    -fx-background-radius: 6;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 6, 0.1, 0, 1);
}

/* ==================================
   ÁREA CENTRAL DE CONTEÚDO (FILTROS DE ORDENAÇÃO + CARDS)
   ================================== */
/* ATENÇÃO: Mudança aqui para garantir a cor de fundo correta */
.center-content-area {
    -fx-background-color: #f4f4f4; /* Herda a cor do root para o padding externo */
    -fx-alignment: top-center;
    -fx-spacing: 25;
    -fx-padding: 30;
}

/* Label de Ordenação */
.label-ordenacao {
    -fx-font-weight: bold;
    -fx-text-fill: #555555;
}

/* ==================================
   FILTROS DE BUSCA E ORDENAÇÃO
   ================================== */
.text-field-search {
    -fx-background-color: #fefefe;
    -fx-background-radius: 6;
    -fx-border-radius: 6;
    -fx-border-color: #dddddd;
    -fx-padding: 6 10;
    -fx-font-size: 14px;
    -fx-transition: -fx-border-color 0.2s ease;
}

.text-field-search:focused {
    -fx-border-color: -primary-color;
    -fx-effect: dropshadow(gaussian, rgba(69, 158, 181, 0.2), 5, 0.0, 0, 0);
}

.combo-box {
    -fx-background-color: #fefefe;
    -fx-background-radius: 6;
    -fx-border-radius: 6;
    -fx-border-color: #dddddd;
    -fx-padding: 6 10;
    -fx-cursor: pointer;
    -fx-transition: -fx-border-color 0.2s ease, -fx-background-color 0.2s ease;
}

.combo-box:hover {
    -fx-border-color: -primary-color;
    -fx-cursor: hand;
}

.combo-box-popup .list-view .list-cell:filled:selected {
    -fx-background-color: -primary-color;
}

/* Botão de Ícone para Ordenação (Giro) */
.icon-button-sort {
    -fx-background-color: transparent;
    -fx-background-radius: 4;
    -fx-padding: 4;
    -fx-cursor: hand;
    -fx-border-width: 0;
    -fx-transition: -fx-background-color 0.2s ease, -fx-scale 0.1s linear;
}

.icon-button-sort:hover {
    -fx-background-color: #e0f2f7;
}

.icon-button-sort:pressed {
    -fx-scale-x: 0.95;
    -fx-scale-y: 0.95;
}

.icon-button-sort .svg-path {
    -fx-fill: -primary-color;
    -fx-scale-x: 1.5; /* Aumenta um pouco o ícone da seta */
    -fx-scale-y: 1.5;
    -fx-transition: -fx-rotate 0.3s ease; /* Transição suave na rotação */
    /* Removemos o -fx-rotate: 0deg daqui para que as classes específicas abaixo prevaleçam */
}

/* REGRAS CORRIGIDAS PARA ROTAÇÃO DA SETA */

/* Classe aplicada ao BOTÃO quando está no modo Descendente (Seta para baixo - Padrão) */
.icon-button-sort.descendente .svg-path {
    -fx-rotate: 0deg;
}

/* Classe aplicada ao BOTÃO quando está no modo Ascendente (Seta para cima) */
.icon-button-sort.ascendente .svg-path {
    -fx-rotate: 180deg;
}

/* =========================
   ScrollPane para a área de Cards
   ========================= */
.card-scroll-pane {
    -fx-background-color: transparent; /* Permite que o fundo do FlowPane/VBox apareça */
    -fx-border-width: 0;
}

/* Estilo para a barra de rolagem (modernização) */
.card-scroll-pane .scroll-bar:vertical .increment-button,
.card-scroll-pane .scroll-bar:vertical .decrement-button,
.card-scroll-pane .scroll-bar:horizontal .increment-button,
.card-scroll-pane .scroll-bar:horizontal .decrement-button {
    -fx-padding: 0;
}

.card-scroll-pane .scroll-bar:vertical .thumb,
.card-scroll-pane .scroll-bar:horizontal .thumb {
    -fx-background-color: rgba(69, 158, 181, 0.5); /* Azul primário semi-transparente */
    -fx-background-insets: 0;
    -fx-background-radius: 5;
}

/* =========================
   Imagem de logo e BorderPane
   ========================= */
.image-view {
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 6, 0.3, 0, 1);
}

/* ATENÇÃO: Mudança aqui. O BorderPane agora usa a cor do root */
.border-pane {
    -fx-background-color: #f4f4f4;
}

/* ============================================== */
/* ESTILOS ESPECÍFICOS DO PDI CARD (Card Template)*/
/* ============================================== */

/* Raiz do Card (VBox) - Estilo de Card Flutuante */
.pdi-card-root {
    -fx-background-color: #fefefe; /* Fundo do card (Branco Puro para contraste) */
    -fx-background-radius: 10;
    -fx-border-color: #e0e0e0;
    -fx-border-radius: 10;
    -fx-border-width: 1;
    -fx-padding: 20; /* Espaçamento interno */
    -fx-min-width: 300px; /* Largura mínima para visualização */
    -fx-pref-width: 320px; /* Largura padrão */
    /* Sombra suave para efeito flutuante */
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.08), 10, 0.05, 0, 3);
    -fx-cursor: hand;
    /* Transição suave para hover e active */
    -fx-transition: -fx-scale-x 0.2s ease, -fx-scale-y 0.2s ease, -fx-effect 0.2s ease, -fx-border-color 0.1s ease;
}

.pdi-card-root:hover {
    -fx-scale-x: 1.01;
    -fx-scale-y: 1.01;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.15), 15, 0.0, 0, 4);
    -fx-border-color: #b3d9ff; /* Borda sutilmente azulada no hover */
    -fx-cursor: hand;
}

.pdi-card-root:pressed { /* Estilo Active */
    -fx-scale-x: 0.99;
    -fx-scale-y: 0.99;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.05), 5, 0.0, 0, 1);
}

/* Título do Card (Objetivo) */
.card-title {
    -fx-font-size: 16px;
    -fx-font-weight: bold;
    -fx-text-fill: -primary-color; /* Cor de marca definida */
    -fx-padding: 0 0 5 0;
}

/* Rótulos de informação (Ex: Colaborador:, Área:) */
.card-label {
    -fx-font-weight: bold;
    -fx-text-fill: #555555;
    -fx-font-size: 13px;
}

/* =========================
   Botão de Ação no Card
   ========================= */
.card-action-button {
    -fx-background-color: transparent;
    -fx-text-fill: -primary-color; /* Texto na cor azul de marca */
    -fx-font-weight: bold;
    -fx-padding: 5 10;
    -fx-border-color: -primary-color;
    -fx-border-radius: 5;
    -fx-border-width: 1;
    -fx-font-size: 13px;
    -fx-cursor: hand;
    -fx-transition: -fx-background-color 0.15s ease, -fx-text-fill 0.15s ease, -fx-scale 0.1s linear;
}

.card-action-button:hover {
    -fx-background-color: -primary-color;
    -fx-text-fill: #fefefe;
}

.card-action-button:pressed {
    -fx-scale-x: 0.98;
    -fx-scale-y: 0.98;
    -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 4, 0.1, 0, 1);
}

/* ============================================== */
/* ESTILOS DOS STATUS (Pills/Badges)              */
/* ============================================== */

/* Base para todas as Pills de Status */
.status-pill {
    -fx-padding: 3 8;
    -fx-background-radius: 12;
    -fx-font-weight: bold;
    -fx-font-size: 12px;
}

/* Status: Concluído (Verde Sutil) */
.status-concluido {
    -fx-background-color: #e6ffed;
    -fx-text-fill: #008a2e;
}

/* Status: Em Andamento (Amarelo Sutil) */
.status-andamento {
    -fx-background-color: #fffbe6;
    -fx-text-fill: #b3a500;
}

/* Status: Atrasado (Vermelho Sutil) */
.status-atrasado {
    -fx-background-color: #ffebeb;
    -fx-text-fill: #cc0000;
}

/* Status Padrão/Outros */
.status-default {
    -fx-background-color: #f0f0f0;
    -fx-text-fill: #666666;
}

/* Estilo para o botão de Sair/Logout na Sidebar */
.button-sidebar-logout {
    -fx-background-color: #dc3545; /* Vermelho padrão para ações destrutivas (ou um tone que harmonize) */
    -fx-text-fill: white;
    -fx-font-size: 14px;
    -fx-font-weight: bold;
    -fx-background-radius: 6;
    -fx-padding: 8 16 8 16;
    -fx-alignment: CENTER; /* Garante que o texto esteja centralizado */
    -fx-cursor: hand;
}

/* Efeito Hover do botão Sair/Logout */
.button-sidebar-logout:hover {
    -fx-background-color: #c82333; /* Vermelho um pouco mais escuro no hover */
}
/* ---------------------------------------------------------------------- */
/* ESTILOS MODERNOS PARA NAVEGAÇÃO SUPERIOR (HEADER)                      */
/* ---------------------------------------------------------------------- */

/* Fundo da Barra de Navegação */
.navbar-menu {
    -fx-background-color: #fefefe; /* Fundo branco puro */
    -fx-border-color: #e0e0e0;
    -fx-border-width: 0 0 1px 0; /* Linha de separação sutil */
    -fx-effect: dropshadow(two-pass-box, rgba(0,0,0,0.05), 5, 0, 0, 1); /* Sombra suave para levantar a barra */
}

/* Estilo Base dos Botões de Navegação */
.navbar-button, .navbar-button-active {
    -fx-background-color: transparent;
    -fx-text-fill: #6c757d; /* Cinza suave */
    -fx-font-size: 15px;
    -fx-font-weight: 500; /* Medium weight */
    -fx-padding: 5 15 10 15; /* Aumenta o padding inferior para o underline */
    -fx-border-color: transparent;
    -fx-border-width: 0 0 3px 0;
    -fx-cursor: hand;
    -fx-focus-traversable: false; /* Remove o contorno de foco padrão */
}

/* Efeito Hover */
.navbar-button:hover {
    -fx-background-color: transparent; /* Garante que o fundo não mude */
    -fx-border-color: transparent; /* Garante que a borda NÃO apareça */
    -fx-text-fill: #1a1a1a; /* Texto escuro/preto no hover */
}

/* Item Ativo (Tela Atual) */
.navbar-button-active {
    -fx-border-color: #459eb5; /* Cor primária (azul) como underline (apenas no ativo) */
    -fx-text-fill: #1a1a1a; /* Texto preto para maior destaque */
    -fx-font-weight: bold;
}

.navbar-button-active:hover {
    -fx-background-color: transparent; /* MANTÉM O FUNDO TRANSPARENTE */
    -fx-text-fill: #1a1a1a; /* MANTÉM O TEXTO PRETO */
    -fx-border-color: #459eb5; /* MANTÉM O UNDERLINE AZUL */
}

.navbar-button-active:focused {
    -fx-background-color: transparent; /* MANTÉM O FUNDO TRANSPARENTE */
    -fx-border-color: #459eb5; /* MANTÉM O UNDERLINE AZUL */
}

/* Label de Boas-Vindas (Nome do Usuário) */
.navbar-label-user {
    -fx-text-fill: #333;
    -fx-font-size: 15px;
    -fx-font-weight: 500;
}

/* ---------------------------------------------------------------------- */
/* ESTILOS MODERNOS PARA KPIS (TELA HOME)                                 */
/* ---------------------------------------------------------------------- */

.home-title {
    -fx-font-size: 32px;
    -fx-font-weight: 700; /* Bold */
    -fx-text-fill: #1a1a1a;
    -fx-padding: 0 0 10 0;
}

.kpi-card {
    -fx-background-color: #fefefe; /* Fundo branco (#fefefe) */
    -fx-padding: 25;
    -fx-border-radius: 12;
    -fx-background-radius: 12;
    -fx-effect: dropshadow(two-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 3); /* Sombra mais visível */
    -fx-pref-width: 220px;
    -fx-min-height: 120px;
}

.kpi-label {
    -fx-font-size: 14px;
    -fx-text-fill: #777;
    -fx-font-weight: 400; /* Normal */
}

.kpi-value, .kpi-value-perc {
    -fx-font-size: 40px;
    -fx-font-weight: 700; /* Mais espesso */
    -fx-text-fill: #459eb5; /* Cor primária */
}

/* ---------------------------------------------------------------------- */
/* ESTILOS ADICIONAIS PARA DETALHES DE KPI (EXPANSÃO)                     */
/* ---------------------------------------------------------------------- */

/* Área de Detalhes (Centraliza o conteúdo e mantém o padding) */
.kpi-details-area {
    -fx-padding: 10 0 0 0;
    -fx-alignment: CENTER; /* CENTRALIZAÇÃO DO SEPARADOR */
}

/* Separador Visual (Corrigido e Centralizado) */
.detail-separator {
    -fx-max-width: 150px;
    -fx-pref-height: 1px;
    -fx-background-color: #f0f0f0; /* Cinza bem claro e sutil (não #fefefe) */
    -fx-padding: 8 0 8 0;
}

/* Título da Seção de Detalhes (ex: "Detalhes de Status") */
.details-title {
    -fx-font-size: 13px;
    -fx-font-weight: bold;
    -fx-text-fill: #495057; /* Cinza escuro */
    -fx-padding: 5 0 2 0;
}

/* Estilo para cada item de detalhe (ex: "Concluídos: 4") */
.detail-item-label {
    -fx-font-size: 12px;
    -fx-text-fill: #6c757d; /* Cinza suave */
}

/* Botão de Toggle "Ver/Ocultar Detalhes" */
.kpi-detail-button-toggle {
     -fx-background-color: transparent;
     -fx-text-fill: #999;
     -fx-font-size: 13px;
     -fx-font-weight: 500;
     -fx-padding: 5 0 0 0;
     -fx-cursor: hand;
     -fx-underline: false;
     -fx-focus-traversable: false;
     -fx-transition: -fx-text-fill 0.15s ease-out;
 }

.kpi-detail-button-toggle:hover {
     -fx-background-color: transparent;
     -fx-text-fill: #459eb5;
 }

/* ---------------------------------------------------------------------- */
/* NOVOS ESTILOS PARA GRÁFICOS (DASHBOARD HOME)                           */
/* ---------------------------------------------------------------------- */

/* Contêiner Geral do Gráfico (Para aplicar o estilo de Card) */
.dashboard-chart-card {
    -fx-background-color: #fefefe; /* Fundo branco (#fefefe) */
    -fx-padding: 20;
    -fx-border-radius: 12;
    -fx-background-radius: 12;
    -fx-effect: dropshadow(two-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 3); /* Sombra mais visível, igual ao KPI */
    -fx-spacing: 15;
}

.chart-title {
    -fx-font-size: 16px;
    -fx-font-weight: bold;
    -fx-text-fill: #333333;
    -fx-padding: 0 0 5 0;
    -fx-alignment: center; /* Centraliza o título do gráfico */
}

/* Estilo Base para Todos os Gráficos (Removendo Bordas e Fundo) */
.chart {
    -fx-padding: 0;
    -fx-background-color: transparent;
}

.chart-content {
    -fx-padding: 0;
}

/* Limpeza Geral de Eixos */
.axis {
    -fx-font-size: 12px;
    -fx-tick-label-fill: #666;
    -fx-border-color: #e0e0e0;
}

/* Gráfico de Barras (BarChart) Específico */
.bar-chart {
    -fx-bar-gap: 5;
    -fx-category-gap: 20;
}

/* Estilo para as Barras: Cor Primária (Azul) */
.default-color0.chart-bar {
    -fx-bar-fill: -primary-color; /* #459eb5 */
    -fx-background-radius: 4;
}

/* Eixo X e Y - Linhas e Marcas (Opcional: Remover as linhas da grade) */
.chart-vertical-grid-lines {
    -fx-stroke: transparent; /* Remove linhas verticais (se BarChart estiver na horizontal) */
}
.chart-horizontal-grid-lines {
    -fx-stroke: #eeeeee; /* Linhas horizontais sutis */
}
.chart-plot-background {
    -fx-background-color: transparent; /* Remove o fundo da área do plot */
}

/* Gráfico de Pizza (PieChart) Específico */
.pie-chart {
    -fx-legend-side: bottom;
}

/* Limpa o texto do título (se houver) e legenda */
.chart-title {
    -fx-font-size: 16px;
    -fx-text-fill: #333;
}

.chart-legend {
    -fx-background-color: transparent;
    -fx-padding: 10;
}

.chart-legend-item {
    -fx-text-fill: #555;
    -fx-font-size: 12px;
}

/* Cores das Fatias do PieChart (Harmoniza com os Status) */
.default-color0.chart-pie { -fx-pie-color: #00b33c; } /* Concluído - Verde  */
.default-color1.chart-pie { -fx-pie-color: #cc0000; } /* Atrasado - Vermelho  */
.default-color2.chart-pie { -fx-pie-color: #b3a500; } /* Em Andamento - Amarelo  */
.default-color3.chart-pie { -fx-pie-color: #6c757d; } /* Outros/Default - Cinza */
.default-color4.chart-pie { -fx-pie-color: -primary-color; } /* Cor primária se houver mais de 3 status */

/* Estilo para o label de dados em cima do PieChart */
.chart-pie-label {
    -fx-fill: #333;
    -fx-font-size: 12px;
    -fx-font-weight: bold;
}